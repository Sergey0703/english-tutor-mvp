# Post-Deploy Checklist –¥–ª—è HF Spaces

## –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –±–∏–ª–¥–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚úÖ

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
```
[supervisord] INFO Entered RUNNING state
[n8n] INFO n8n ready on http://0.0.0.0:5678
[livekit-agent] INFO üöÄ Starting English Tutor Agent
[livekit-agent] INFO Worker registered with LiveKit
```

**–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
- Supervisor –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å supervisord.conf
- N8N failed ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Node.js —É—Å—Ç–∞–Ω–æ–≤–∫—É
- Agent failed ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Python dependencies –∏–ª–∏ GOOGLE_API_KEY

---

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –∞–≥–µ–Ω—Ç–∞

**–ú–µ—Ç–æ–¥ 1: LiveKit Playground**

1. –û—Ç–∫—Ä—ã—Ç—å https://agents-playground.livekit.io
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É:
   - URL: `wss://first-aaelw7kf.livekit.cloud`
   - API Key: `APICpeSck5jt2Rm`
   - API Secret: `t4jZk0X3wGLvLAwh0d4iigxmrWLkrdEsmwe7FkDVYLT`
3. –ù–∞–∂–∞—Ç—å "Connect"
4. –î–æ–ª–∂–Ω—ã —É—Å–ª—ã—à–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –Ω–æ–≤–æ—Å—Ç—å

**–ú–µ—Ç–æ–¥ 2: Direct HTTP (–ø–æ—Ä—Ç 7860)**

```bash
curl -I https://sergey0703-english-tutor-mvp.hf.space
```

–û–∂–∏–¥–∞–µ–º: `200 OK` (health check —Ä–∞–±–æ—Ç–∞–µ—Ç)

---

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å N8N workflows

**–ü—Ä–æ–±–ª–µ–º–∞:** N8N UI –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (–ø–æ—Ä—Ç 5678 –Ω–µ –ø—Ä–æ–±—Ä–æ —à–µ–Ω)

**–†–µ—à–µ–Ω–∏–µ A: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ –ª–æ–≥–∏**

–ò—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö HF Spaces:
```
[n8n] INFO Workflow "RSS News Scraper" activated
[n8n] INFO Workflow "Get Random News API" activated
```

**–†–µ—à–µ–Ω–∏–µ B: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å webhook –Ω–∞–ø—Ä—è–º—É—é**

–≠—Ç–æ –ù–ï –°–†–ê–ë–û–¢–ê–ï–¢ –∏–∑–≤–Ω–µ (–ø–æ—Ä—Ç 5678 –Ω–µ exposed), –Ω–æ agent –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∏–∑–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

**–†–µ—à–µ–Ω–∏–µ C: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ agent logs**

–ò—Å–∫–∞—Ç—å:
```
üì° Fetching news from N8N webhook: http://localhost:5678/webhook/get-news
‚úÖ Got news from N8N: [title]
```

–ò–ª–∏ fallback:
```
‚ùå Cannot connect to N8N webhook (N8N may not be ready yet)
üì∞ Falling back to direct RSS fetch
```

---

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: Agent —á–∏—Ç–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç—å**

1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —á–µ—Ä–µ–∑ LiveKit Playground
2. –£—Å–ª—ã—à–∞—Ç—å: "Welcome to your English practice. Today's topic is..." + –Ω–æ–≤–æ—Å—Ç—å
3. –ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–æ–≤–æ—Å—Ç–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –Ω–æ–≤–æ—Å—Ç–∏**

1. –ü–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏ —Å–ø—Ä–æ—Å–∏—Ç—å: "What is this news about?"
2. –ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–æ–≤–æ—Å—Ç–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ü–∏—é –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ (–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Å–∫–∞–∑–∞—Ç—å —Å –æ—à–∏–±–∫–æ–π)

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—É—é –Ω–æ–≤–æ—Å—Ç—å**

1. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∞–≥–µ–Ω—Ç—É
2. –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥—Ä—É–≥–∞—è –Ω–æ–≤–æ—Å—Ç—å (—Å–ª—É—á–∞–π–Ω–∞—è –∏–∑ RSS)

---

## –ï—Å–ª–∏ –±–∏–ª–¥ –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π

### –û—à–∏–±–∫–∞ 1: Timeout –ø–æ—Å–ª–µ 30 –º–∏–Ω—É—Ç

**–ü—Ä–∏—á–∏–Ω–∞:** Docker image —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (Node.js + N8N ‚âà 700MB)

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Dockerfile.simple` (–±–µ–∑ N8N)
2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å: `mv Dockerfile.simple Dockerfile`
3. Push —Å–Ω–æ–≤–∞
4. –ë–∏–ª–¥ –∑–∞–π–º–µ—Ç 2-3 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 10+

**–ö–æ–º–∞–Ω–¥—ã:**
```bash
mv Dockerfile Dockerfile.with-n8n
mv Dockerfile.simple Dockerfile
git add Dockerfile
git commit -m "Simplify: remove N8N, use direct RSS"
git push
git push hf main
```

---

### –û—à–∏–±–∫–∞ 2: Supervisor failed to start

**–ü—Ä–∏—á–∏–Ω–∞:** supervisord.conf —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `supervisor` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Dockerfile
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å supervisord.conf
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `n8n` –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH

**Debug:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Dockerfile
docker build -t test-build .
docker run -it test-build /bin/bash
supervisord -c /etc/supervisor/conf.d/supervisord.conf
```

---

### –û—à–∏–±–∫–∞ 3: N8N out of memory

**–ü—Ä–∏—á–∏–Ω–∞:** N8N —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º—É–º 512MB RAM, HF Spaces free tier –æ–≥—Ä–∞–Ω–∏—á–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±—Ä–∞—Ç—å N8N (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dockerfile.simple)
2. –ò–ª–∏ upgrade HF Spaces tier (–ø–ª–∞—Ç–Ω–æ)
3. –ò–ª–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å N8N –Ω–∞ Railway (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

---

## –ï—Å–ª–∏ –±–∏–ª–¥ —É—Å–ø–µ—à–Ω—ã–π, –Ω–æ agent –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Agent –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ LiveKit

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
# –õ–æ–≥–∏ HF Spaces
[livekit-agent] ERROR Failed to connect to LiveKit
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- LIVEKIT_URL/API_KEY/SECRET –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Secrets
- LiveKit Cloud –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ https://livekit.io/status
- Network issue ‚Üí –ø–æ–¥–æ–∂–¥–∞—Ç—å –∏ retry

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Gemini API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
```bash
# –õ–æ–≥–∏ HF Spaces
[livekit-agent] ERROR Google API error: 401 Unauthorized
```

**–ü—Ä–∏—á–∏–Ω—ã:**
- GOOGLE_API_KEY –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Google AI Studio
- API key expired/revoked ‚Üí —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
- Quota exceeded ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã –≤ Google Cloud Console

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Audio –ø—Ä–µ—Ä—ã–≤–∏—Å—Ç—ã–π/–º–µ–¥–ª–µ–Ω–Ω—ã–π

**–ü—Ä–∏—á–∏–Ω—ã:**
- HF Spaces CPU throttling (free tier)
- Gemini API latency
- Network issues

**–†–µ—à–µ–Ω–∏–µ:**
- –ü–æ–¥–æ–∂–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç (cold start –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç –¥—Ä—É–≥–∏—Ö —Ç—è–∂–µ–ª—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –ª–æ–≥–∞—Ö
- Upgrade HF Spaces tier (–µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–∞—è)

---

## Next Steps –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### Immediate:
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. ‚úÖ –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ keep-alive —Ä–∞–±–æ—Ç–∞–µ—Ç (GitHub Actions)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ Space –Ω–µ –∑–∞—Å—ã–ø–∞–µ—Ç —á–µ—Ä–µ–∑ 48 —á–∞—Å–æ–≤

### Short-term:
1. **N8N workflows:**
   - –ï—Å–ª–∏ N8N —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å workflows (—Å–º. N8N_WORKFLOWS_IMPORT.md)
   - –ï—Å–ª–∏ N8N –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí —É–±—Ä–∞—Ç—å –∏–∑ Dockerfile, use direct RSS

2. **–£–ª—É—á—à–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–∏:**
   - –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ RSS –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
   - –î–æ–±–∞–≤–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ (—Ç–µ–∫—É—â–µ–µ: 500 chars)

3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ —á–∏—Ç–∞—é—Ç—Å—è
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ü—Ä–æ—Å—Ç–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (JSON file –∏–ª–∏ CSV)

### Long-term:
1. **MongoDB integration:**
   - –•—Ä–∞–Ω–∏—Ç—å —Å–ª–æ–≤–∞—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–±—É—á–µ–Ω–∏—è
   - –•—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å (—Å–ª–æ–≤–∞ –≤—ã—É—á–µ–Ω—ã/–Ω–µ –≤—ã—É—á–µ–Ω—ã)

2. **Word substitution algorithm:**
   - –ü–∞—Ä—Å–∏—Ç—å —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏
   - –ù–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞
   - –ü–æ–¥–º–µ–Ω—è—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –∏–∑ —Å–ª–æ–≤–∞—Ä—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

3. **Multi-user support:**
   - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ LiveKit room name?)
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –†–∞–∑–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

---

## Monitoring

### GitHub Actions Keep-Alive

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ workflow —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –û—Ç–∫—Ä—ã—Ç—å https://github.com/sergey0703/aijarvis/actions
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å workflow "Keep HF Space Awake"
3. Runs –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤
4. –ü–æ—Å–ª–µ–¥–Ω–∏–π run –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å–ø–µ—à–Ω—ã–º (green checkmark)

### HF Spaces Logs

–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏:
1. –û—Ç–∫—Ä—ã—Ç—å https://huggingface.co/spaces/sergey0703/english-tutor-mvp
2. Tab "Logs"
3. –ò—Å–∫–∞—Ç—å errors/warnings
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –æ–±–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (n8n + agent) running

---

## Troubleshooting Commands

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Space
curl -I https://sergey0703-english-tutor-mvp.hf.space

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å git remotes
git remote -v

# Force push (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git push --force hf main

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π commit
git log -1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub Actions
# –û—Ç–∫—Ä—ã—Ç—å https://github.com/sergey0703/aijarvis/actions
```

---

**–ì–æ—Ç–æ–≤–æ! –ñ–¥–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –±–∏–ª–¥–∞ –Ω–∞ HF Spaces.**

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –±–∏–ª–¥ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ LiveKit Playground
3. –ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –æ N8N (–æ—Å—Ç–∞–≤–∏—Ç—å –∏–ª–∏ —É–±—Ä–∞—Ç—å)
